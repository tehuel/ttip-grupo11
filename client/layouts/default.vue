<template>
  <div id="app-layout">
    <Navbar />

    <div id="app-content">
      <Nuxt keep-alive />
    </div>

    <Foot />
  </div>
</template>

<script>
export default {
  name: 'Default',
  mounted() {
    const authUser = {
      email: localStorage.getItem('userEmail'),
      token: localStorage.getItem('userToken'),
    }
    this.$store.commit('user/setAuthenticated', authUser)
    if (authUser.token) {
      this.$store.dispatch('user/getProfile', {
        userToken: authUser.token,
      })
    }
  },
}
</script>
